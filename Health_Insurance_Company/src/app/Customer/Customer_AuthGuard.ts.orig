import { Injectable } from '@angular/core';
import { Router, CanActivate } from '@angular/router';


/* It is Mandatory to implement canActive method body in the AuthGuard Class because its an interface */
/* { Error: No provider for CustomerAuthGuard! } Dependency injection
To avoid the above error [Provider] should be specified in app.module.ts (or) Login.component.ts
*/
"use strict";

@Injectable()
export class CustomerAuthGuard implements CanActivate {

    constructor(private router: Router) { }

    /* Either Local storage or session storage application is throughing error while 
    restarting the app --> "User Data doesn't exist on storage" */

    canActivate() {

<<<<<<< HEAD
<<<<<<< HEAD
        
       if(sessionStorage.userData){ 
||||||| merged common ancestors
<<<<<<<<< Temporary merge branch 1

      //  if(sessionStorage.userData){
      //      return true;
      //     }
||||||||| merged common ancestors
        
       if(sessionStorage.userData){
           return true;
          }
=========
        
       if(sessionStorage.userData){ 
=======

       if(sessionStorage.userData){ 
      //      return true;
      //     }
>>>>>>> d732455660b072661bde538a065c094310c7f932
           return true;
          }
          /* if(localStorage.userData){ 
            return true;
           } */
          
<<<<<<< HEAD
||||||| merged common ancestors
        
       if(sessionStorage.userData){
           return true;
          }
=======

      //  if(sessionStorage.userData){
      //      return true;
      //     }
>>>>>>> 22b69a31a95a86afbe2772b6f0827064daca209e
||||||| merged common ancestors
>>>>>>>>> Temporary merge branch 2
=======
>>>>>>> d732455660b072661bde538a065c094310c7f932
          /* If No data is retrived or session / window is closed open from here */
              this.router.navigate(['login']);
              return false;

    }

}
