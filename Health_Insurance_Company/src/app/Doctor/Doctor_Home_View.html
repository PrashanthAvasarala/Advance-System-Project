<Doctor-Header></Doctor-Header>

<div class="container-fluid">
  <div class="row" style="margin: 2%">

    <div class="card">
      <div class="card-header">
        <h4> {{appointmentsCardTitle}} </h4>
      </div>
      <div class="card-body">
        <div *ngIf="patientAppointments && patientAppointments.length; else emptyList">
          <div class="col-md-4" *ngFor="let appointment of patientAppointments; let i=index">
            <div *ngIf="i < 3">
              <h4 class="card-title">{{appointment.patientName}}</h4>
              <p class="card-text">{{appointment.reason}} {{appointment.carrierName==='First Health Insurance' ? 'Existing patient and In-Network.':
                'Existing patient and Out-Network.'}}</p>
              <p class="card-text">Time {{appointment.dateFromDb | date:'shortTime'}}.</p>
            </div>
          </div>
        </div>
        <ng-template #emptyList>
          <div class="col-md-4">
            <h4 class="card-title">{{noAppointments}}</h4>
          </div>
        </ng-template>
      </div>
      <div class="card-footer">
        <button type="button" class="btn btn-primary" [disabled]="!patientAppointments.length" data-toggle="modal" data-target="#appointmentsModal">More Appointments</button>
      </div>
    </div>

  </div>

  <div class="row" style="margin: 2%; margin-bottom: 0;">

    <div class="col-md-6" style="padding-left: 0px">
      <div class="card">
        <div class="card-header">
          <h4> {{reviewsCardTitle}} </h4>
        </div>
        <div class="card-body">
          <h4 class="card-title">Sandeep Avasarala Venkata</h4>
          <p class="card-text">Cosultation/General Follow up about Leg Sprain. Existing patient and In-Network.</p>
          <p class="card-text">Time 2:00 pm CST.</p>
          <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
      </div>
    </div>

    <div class="col-md-6" style="padding-right: 0px">
      <div class="card">
        <div class="card-header">
          <h4> {{labResultsCardTitle}} </h4>
        </div>
        <div class="card-body">
          <h4 class="card-title">Sandeep Avasarala Venkata</h4>
          <p class="card-text">Cosultation/General Follow up about Leg Sprain. Existing patient and In-Network.</p>
          <p class="card-text">Time 2:00 pm CST.</p>
          <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
      </div>
    </div>

  </div>
</div>

<Doctor-Footer></Doctor-Footer>

<router-outlet></router-outlet>


<!-- Modal View for More Appointments -->
<div id="appointmentsModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" style=" overflow-y: initial;">

    <!-- Modal content-->
    <div class="modal-content">

      <div class="modal-header" style="background-color: #f7f7f7; padding-bottom: 0px;">
        <h2 class="modal-title">All Appointments for Today</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <div class="modal-body" style=" overflow-y: auto; max-height:35em;">

        <table class="table" *ngIf="patientAppointments && patientAppointments.length">
          <thead>
            <tr>
              <th class="col-md-3"> Patient Name </th>
              <th class="col-md-3"> Date </th>
              <th class="col-md-6"> Reason </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let appointment of patientAppointments">
              <td class="col-md-3"> {{appointment.patientName}} </td>
              <td class="col-md-3"> {{appointment.dateFromDb | date:'medium'}} </td>
              <td class="col-md-6"> {{appointment.reason}} </td>
            </tr>

          </tbody>
        </table>
        <!-- </div> -->

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>

    </div>

  </div>

</div>
